---
import Layout from "@/layouts/Layout.astro";
import TemplatedTable from "@/components/table/TemplatedTable.astro";
---

<Layout title="Contests" makeTile>
    <h1 class="mb-2 text-2xl">Contests</h1>
    <TemplatedTable
        listName="contests"
        itemLink={{
            action: (id: string) => `/contests/${id}`,
        }}
        actions={[
            {
                name: "Edit",
                icon: "tabler:pencil",
                action: (id: string) => `/contests/${id}/edit`,
                condition: "is_admin"
            },
            {
                name: "Delete",
                icon: "tabler:trash",
                color: "danger",
                action: (id: string) => `/contests/${id}/delete`,
                condition: "is_admin"
            }
        ]}
        columns={[
            {name: "name"},
            {name: "start_time", overrideList: "start_times"},
            {name: "registration_deadline", overrideList: "registration_deadlines"},
            {name: "max_participants"},
        ]}
    />
</Layout>
